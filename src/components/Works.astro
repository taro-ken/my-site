---
import { worksData } from "../data/works";
import AppStoreBadge from "./AppStoreBadge.astro";
---

<div class="flex flex-col gap-y-12">
  {
    worksData.map((w) => (
      <section id={w.id} class="flex flex-col gap-4">
        <div class="rounded-2xl border-[1px] border-hub-border dark:border-hub-border-dark p-6 md:p-10 bg-hub-background-nav/30 dark:bg-hub-background-nav-dark/30">
          <h3 class="text-3xl md:text-4xl font-extrabold text-hub-title dark:text-hub-title-dark text-center">{w.title}</h3>
          {w.description && (
            <p class="text-hub-subtitle dark:text-hub-subtitle-dark text-base md:text-lg text-center mt-3">{w.description}</p>
          )}
          {w.techs?.length > 0 && (
            <div class="flex justify-center mt-4">
              <ul class="flex flex-wrap gap-2 justify-center">
                {w.techs.map(t => (
                  <li class="px-3 py-1 rounded-full border-[1px] text-xs md:text-sm border-hub-border dark:border-hub-border-dark text-hub-inactive">{t}</li>
                ))}
              </ul>
            </div>
          )}
          {w.images?.length > 0 && (
            <div class="mt-6 grid grid-cols-2 gap-6 md:gap-10 items-center max-w-4xl mx-auto">
              {w.images.map(src => (
                <img src={src} alt="screenshot" class="w-full rounded-xl border-[1px] border-hub-border dark:border-hub-border-dark" loading="lazy" />
              ))}
            </div>
          )}
          {w.stores?.length > 0 && (
            <div class="mt-6 flex items-center justify-center">
              <AppStoreBadge href={w.stores[0].href} />
            </div>
          )}
          {w.actions?.length > 0 && (
            <div class="mt-4 flex items-center justify-center gap-4">
              {w.actions.map(a => (
                <a href={a.href} target={a.target || '_self'} class="underline">{a.label}</a>
              ))}
            </div>
          )}
        </div>
      </section>
    ))
  }
</div> 
